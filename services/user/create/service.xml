<sequence xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" disabled="false" id="f1d40b98-cdfe-40ae-862a-800313f90bd9">
	<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" id="428d5e7b-9456-4b11-9d76-2f76f0ea95bc">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="aa27e053-93e1-40c4-8edb-6df61db92ca7" serviceId="nabu.cms.core.services.node.audit.create" resultName="resultfd587019e13b45a1ab43bfa21151fd30" invocationOrder="0" temporaryMapping="true" x="72" y="57">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="1a2502d6-6526-41cc-b4f6-1398937e3f71" optional="false" fixedValue="false">
				<from>input/connectionId</from>
				<to>connectionId</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="abcd5a3f-63bd-4cd4-a76b-ade30dcad29d" optional="false" fixedValue="true">
				<from>user.create</from>
				<to>action</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="410e27dd-b7bc-4c43-866e-d63371605947" optional="false" fixedValue="false">
			<from>resultfd587019e13b45a1ab43bfa21151fd30/auditId</from>
			<to>output/auditId</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Sequence" disabled="false" id="6f39507e-0d1b-4b48-9f8d-671398d1a462">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" comment="Default values" id="3d70c48b-334d-4e38-b142-c37b2727ffcf">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="34ba6b08-b914-4ce4-9169-03f2a8d2e075" optional="true" fixedValue="true">
				<from>false</from>
				<to>input/anonymous</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="9bea41b8-0494-4c26-bdff-25854bb9b346" optional="true" fixedValue="true">
				<from>false</from>
				<to>input/verified</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" comment="Map user" id="621215a5-f067-49fa-b1a7-580e9cc5f62e">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="0b419fed-bf9b-4484-9d36-1c039f8d21fe" serviceId="nabu.cms.core.services.node.create" resultName="result11b9964b443d4d4c88f4f27f9f2e40ec" invocationOrder="1" temporaryMapping="true" x="225" y="277">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="06ce7906-cabb-419d-8066-4a8a033a1203" optional="false" fixedValue="false">
					<from>input/connectionId</from>
					<to>connection</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="135e8334-c5cb-477d-8d94-19b24fd3b345" optional="false" fixedValue="false">
					<from>input/transactionId</from>
					<to>transactionId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6a016dad-c3da-4a1e-897a-5d2213655b9b" optional="false" fixedValue="false">
					<from>input/languageId</from>
					<to>languageId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="40e9510a-00ad-4058-a98e-7da618455778" optional="false" fixedValue="false">
					<from>resultd5f2507949f545e9b941db7f8a5c067b/results[0]/id</from>
					<to>componentId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="9d324be2-2ee5-4b77-b7c5-636faf76f74c" optional="false" fixedValue="false">
					<from>input/verified</from>
					<to>verified</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="70e65e6e-cd6e-42fa-8cea-c3c56f7a00d3" serviceId="nabu.cms.core.database.component.selectByName" resultName="resultd5f2507949f545e9b941db7f8a5c067b" invocationOrder="0" temporaryMapping="true" x="32" y="20">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="209439c9-b039-43f2-a081-4a6c753757a7" optional="false" fixedValue="true">
					<from>user</from>
					<to>parameters/name</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="057c63ff-66a7-47da-a424-f10cac5d50b1" optional="false" fixedValue="false">
					<from>input/connectionId</from>
					<to>connection</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="039f131d-4edb-45a3-b7d2-f701fdea1ae3" optional="false" fixedValue="false">
				<from>result11b9964b443d4d4c88f4f27f9f2e40ec/nodeId</from>
				<to>user/id</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="c6a0f3dc-8a2b-47ec-9b65-1e47e8eacbda" optional="false" fixedValue="false">
				<from>result11b9964b443d4d4c88f4f27f9f2e40ec/created</from>
				<to>user/created</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="36a20187-48db-4c2f-b1f7-511daebbbc4f" optional="false" fixedValue="false">
				<from>result11b9964b443d4d4c88f4f27f9f2e40ec/created</from>
				<to>user/modified</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="bcede5b8-3222-47ca-bbc6-e1a95b53cb68" optional="false" fixedValue="false">
				<from>input/alias</from>
				<to>user/alias</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="a3d522d0-15f8-4207-b232-bb273d78c09e" optional="false" fixedValue="false">
				<from>input/invitesLeft</from>
				<to>user/invitesLeft</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="d8d6db6a-47e1-430e-8965-e74ece14f32d" optional="false" fixedValue="false">
				<from>input/anonymous</from>
				<to>user/anonymous</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="b3e1d8d7-3408-4b7a-aef1-9418a0350d72" optional="false" fixedValue="false">
				<from>input/realm</from>
				<to>user/realm</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="0dc0f66d-178c-40a5-8a2a-07e3c825894c" serviceId="nabu.utils.Server.uuid" resultName="resulte1103ea460cb46169e2a9737123b2b1e" invocationOrder="0" temporaryMapping="true" x="265" y="175">
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="d74737c2-871f-4b89-b358-20763ee58eb0" optional="false" fixedValue="false">
				<from>resulte1103ea460cb46169e2a9737123b2b1e/uuid</from>
				<to>user/salt</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Switch" disabled="false" comment="Set the id as the default alias" id="83e7fb4f-c208-41c7-872f-125f8bb561ab" query="user/alias">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" label="null" id="af97266d-f6bc-4a54-8b90-3799c5a56646">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="48e84ea8-a80e-4419-9356-e2054cbc353d" optional="false" fixedValue="false">
					<from>user/id</from>
					<to>user/alias</to>
				</steps>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Switch" disabled="false" id="993ad2a1-c3cc-4570-a70a-5f40e8bcc764" query="input/verified">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" label="false" id="367ccedd-aa8a-48ca-b598-b6ca0a4a396e">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="59a9491a-c8fb-494d-94d7-442dd2968df2" serviceId="nabu.utils.Server.uuid" resultName="result283e74e9e4ff466689bfb90048276c69" invocationOrder="0" temporaryMapping="true" x="68" y="76">
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="ee058920-9187-4721-b2b4-120a5748a217" optional="false" fixedValue="false">
					<from>result283e74e9e4ff466689bfb90048276c69/uuid</from>
					<to>user/verificationCode</to>
				</steps>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Switch" disabled="false" id="882551fc-2f8a-4c3c-ad39-49e42649b1b5">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" label="input/password != null" id="f1f922c6-699c-42aa-b197-f1efeb38dfd7">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="73033fd0-8d48-4121-9ebf-239109395fb0" serviceId="nabu.cms.core.utils.security.hashPassword" resultName="result4d4d9eca9fc64b57b01a21254148725c" invocationOrder="1" temporaryMapping="true" x="132" y="194">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="c83bcc61-62a7-488d-aba7-ac001e84b837" optional="false" fixedValue="false">
						<from>input/realm</from>
						<to>realm</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="2fd80cea-e790-4fd6-8346-211192575163" optional="false" fixedValue="false">
						<from>input/alias</from>
						<to>name</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="b0af0127-919e-4982-bfe8-4a32d1df21f0" optional="false" fixedValue="false">
						<from>input/password</from>
						<to>password</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="bed9255e-e0ab-4e00-8d5d-bc365347288c" optional="false" fixedValue="false">
						<from>input/algorithm</from>
						<to>algorithm</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6ca27731-0e7b-44f8-9d78-17288dab47f3" optional="false" fixedValue="false">
						<from>user/salt</from>
						<to>salt</to>
					</steps>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="be789a61-19ac-4f85-afd0-c8155fec8e5a" optional="false" fixedValue="false">
					<from>result4d4d9eca9fc64b57b01a21254148725c/hash</from>
					<to>user/password</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="79b9a4ec-5fb2-42c8-bb8d-469c9c5cb34d" optional="false" fixedValue="false">
					<from>user/created</from>
					<to>user/passwordModified</to>
				</steps>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" id="7a7db4b4-9d4f-4fbe-be0a-9fafe5da37eb">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="4965458a-95a5-4526-b165-0a33ee254de8" serviceId="nabu.cms.core.database.user.insert" resultName="resultacfdf65a883b49d98087490a329e500a" invocationOrder="0" temporaryMapping="true" x="161" y="60">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="15c862a3-8875-4c12-9ce4-c28aea23ad08" optional="false" fixedValue="false">
					<from>input/connectionId</from>
					<to>connection</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="5b37e5db-17b9-41bb-8eaf-8acf57466a33" optional="false" fixedValue="false">
					<from>user</from>
					<to>parameters[0]</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="a473d0ee-683b-4b07-90b9-94c8b7a5172f" optional="false" fixedValue="false">
					<from>output/auditId</from>
					<to>transaction</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="31fbf919-f5fe-4496-ab77-63b8fdf9a6d5" optional="false" fixedValue="false">
				<from>user</from>
				<to>output/user</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Catch" disabled="false" id="5a378ab8-0cef-4cfb-b97b-e0197fc449aa" variable="exception">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" id="e69b3dc1-ce31-4ccd-a217-29b0bee13169">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="7544cff1-b2ee-4d72-b277-3b9535f04140" serviceId="nabu.cms.core.services.node.audit.error" resultName="resultf0058a1ba5fc4283b405f086eccb1e80" invocationOrder="0" temporaryMapping="true" x="33" y="78">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6595463c-786e-476c-8b26-b20571fd2811" optional="false" fixedValue="false">
						<from>output/auditId</from>
						<to>auditId</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="011869f5-da36-464c-8171-6ba66434cb62" optional="false" fixedValue="false">
						<from>exception</from>
						<to>exception</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6bf82641-9195-4bf0-af35-aed55395b702" optional="false" fixedValue="false">
						<from>input/connectionId</from>
						<to>connectionId</to>
					</steps>
				</steps>
			</steps>
		</steps>
	</steps>
</sequence>
<sequence xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		disabled="false"
		id="65ff1024-8b25-4e46-8ed0-81a15921bb50"
		lineNumber="1">
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="3095c50c-ad97-4b88-acd5-f6c9290d3f52"
			label="input/create == null"
			lineNumber="2">
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="5f258bc2-443f-48af-a10c-422ee0377d50"
				mask="false"
				optional="false"
				fixedValue="true">
			<from>true</from>
			<to>input/create</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Switch"
			disabled="false"
			id="468556d5-c4b3-45e4-ad81-4d499c61d239"
			lineNumber="3"
			query="input/system">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				disabled="false"
				id="5829fc1b-1c1a-4a08-bd5c-ae4c0aba58d0"
				label="true"
				lineNumber="4">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="3f992ce4-d857-41fd-a966-b5dc886ec93b"
					mask="false"
					optional="false"
					fixedValue="true">
				<from>$system</from>
				<to>name</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				disabled="false"
				id="cdd5d05e-73d0-44cc-ae32-11e12c57e09b"
				lineNumber="5">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="33b19f06-f2c2-4efc-a4f6-0c3f726838ec"
					mask="false"
					optional="false"
					fixedValue="true">
				<from>$global</from>
				<to>name</to>
			</steps>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="21df2cdd-1292-4830-bb96-964d4e02bd1f"
			lineNumber="6">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="7c63c7e9-3c93-4b89-a695-fe2be5e4ee00"
				serviceId="nabu.cms.core.crud.component.services.list"
				resultName="result26dfa8d6f80543949f94d6bc2e040201"
				temporaryMapping="true"
				x="106"
				y="54"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="0fc1954d-0c2e-465e-bd12-c781ea586cfb"
					mask="false"
					optional="false"
					fixedValue="true">
				<from>project</from>
				<to>filter/name[0]</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="f3e30012-acc5-4b23-9530-76fa8db2a48c"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/connectionId</from>
				<to>connectionId</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="dd7f8a03-0c5b-4b14-9f6e-99e038949fab"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/transactionId</from>
				<to>transactionId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="0a3c0e78-ef34-4a3b-ba20-0370ff9ed50c"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>result26dfa8d6f80543949f94d6bc2e040201/results[0]</from>
			<to>projectComponent</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="a6bde03e-3395-411e-98e6-7e38a1ca2591"
			label="projectComponent == null &amp;&amp; input/create"
			lineNumber="7">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="d4ccff53-4cd1-469a-8c52-6ca7ec8bb1d2"
				serviceId="nabu.cms.core.crud.component.services.create"
				resultName="resulta7b9fd2b66154282a55cec274a46339a"
				temporaryMapping="true"
				x="137"
				y="61"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="21549904-21d0-497a-ad1b-c3414b8871d2"
					mask="false"
					optional="false"
					fixedValue="true">
				<from>project</from>
				<to>instance/name</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="f50bfd01-6d7d-4f22-b28b-b59e2ea681ca"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/connectionId</from>
				<to>connectionId</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="63602056-3e39-4230-b223-77a0c99a7940"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/transactionId</from>
				<to>transactionId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="baf41231-8218-49c9-898f-5b53e4d9f201"
				mask="true"
				optional="false"
				fixedValue="false">
			<from>resulta7b9fd2b66154282a55cec274a46339a/created</from>
			<to>projectComponent</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="0f3ac865-37aa-4781-bc91-460fec2797b2"
			label="projectComponent"
			lineNumber="8">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="ff354208-eb95-44ce-a548-fba1612f3305"
				serviceId="nabu.cms.core.crud.node.services.list"
				resultName="result176f9a5baaaa4542870af57d8c9d0c53"
				temporaryMapping="true"
				x="120"
				y="75"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="9e518c76-6016-49dc-a9d2-595222e43739"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>projectComponent/id</from>
				<to>filter/componentId[0]</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="3b71215f-0f3a-4113-a4a8-3c76d325e90a"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>name</from>
				<to>filter/name[0]</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="1bfef724-5a0c-45b1-9f7b-576dd90573f6"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/connectionId</from>
				<to>connectionId</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="d33ca7ba-59f5-44a0-b976-ad7a55a932ca"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/transactionId</from>
				<to>transactionId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="969b74bd-778e-4a5b-b131-a5856c6e17d7"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>result176f9a5baaaa4542870af57d8c9d0c53/results[0]</from>
			<to>output/globalContext</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Sequence"
			disabled="false"
			id="c88c957d-0580-4e76-9b50-def436f6f9ae"
			label="projectComponent != null &amp;&amp; output/globalContext == null &amp;&amp; input/create"
			lineNumber="9">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				disabled="false"
				id="4d88b06ef02446f5abf04e6733e544fa"
				lineNumber="10">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
					disabled="false"
					id="2e8af06aba804907a9e7765637836a95"
					serviceId="nabu.cms.core.crud.node.services.create"
					resultName="resultd61daa22f4b04defb4d78f163d791106"
					temporaryMapping="true"
					x="85"
					y="51"
					invocationOrder="0"
					asynchronous="false"
					recache="false">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="f64d77f882d7418386fc98667b12cc3c"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>projectComponent/id</from>
					<to>instance/componentId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="bf98940d-5861-43f1-bb3c-1b7f49819e31"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>name</from>
					<to>instance/name</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="6d871bc9-42de-48ab-9c1b-3211cc4ffd2c"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>input/connectionId</from>
					<to>connectionId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="ab9c4a61-b870-4969-bbd6-9132003361ae"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>input/transactionId</from>
					<to>transactionId</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="7fd0dac873ea4f97a0d2d67dc8e131d5"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>resultd61daa22f4b04defb4d78f163d791106/created</from>
				<to>output/globalContext</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				comment="Ensure we have security for this context"
				disabled="false"
				id="07140cba-6adc-4e53-9129-f9eb42687b0e"
				lineNumber="11">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
					disabled="false"
					id="17ee6b4f-bc29-4627-9ec6-5ed1507c3eb5"
					serviceId="nabu.cms.core.services.context.ensureSecurity"
					resultName="result89ddbf6c1c964c32958752c08eab7558"
					temporaryMapping="true"
					x="109"
					y="97"
					invocationOrder="0"
					asynchronous="false"
					recache="false">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="71094716-6a20-40f7-ac1e-78ff89d508b4"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>output/globalContext/id</from>
					<to>contextNodeId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="c0c3e095-a75b-4db3-9a6b-1b3455d56ef6"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>input/connectionId</from>
					<to>connectionId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="c07cecad-72b7-4db2-af46-0cb34d21784c"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>input/transactionId</from>
					<to>transactionId</to>
				</steps>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				comment="Make sure the admin has permissions as well"
				disabled="false"
				id="652dfd59-d08d-49c7-8ec7-b8c406a7900c"
				lineNumber="12">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
					disabled="false"
					id="4c38a545-aeb1-4906-ba7e-2708daaca07c"
					serviceId="nabu.cms.core.services.context.ensureAdminPrivileges"
					resultName="resultce7f0207be124ce185074a97f8446735"
					temporaryMapping="true"
					x="4"
					y="48"
					invocationOrder="0"
					asynchronous="false"
					recache="false">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="9fd16aa6-9a98-418e-84ae-8322c7f5bd28"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>input/connectionId</from>
					<to>connectionId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="84f382d9-13e5-4d47-b8c3-a0a58117b97a"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>input/transactionId</from>
					<to>transactionId</to>
				</steps>
			</steps>
		</steps>
	</steps>
</sequence>
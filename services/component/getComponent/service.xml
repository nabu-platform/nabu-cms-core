<sequence xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" disabled="false" id="6104d9aa-026d-448a-aa92-e2b9c84ab68f">
	<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" id="d9d8c273-1f47-46be-9276-67513b83c57f">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="dfac3d44-743b-4083-84a9-c05bcbefc715" serviceId="nabu.web.cms.core.database.component.selectById" resultName="result25db9a7e79f947dcbeafeb29caeaf1f1" invocationOrder="0" temporaryMapping="true" x="27" y="41">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="87639e01-9ee7-43cc-a696-14259665fed9" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6fd452e4-02b2-4913-b59b-7ce9a3facd75" fixedValue="false" optional="false">
				<from>input/componentId</from>
				<to>parameters/id</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="dc458a97-86bb-4e1d-afa5-45f6a72a6aca" fixedValue="false" optional="false">
			<from>result25db9a7e79f947dcbeafeb29caeaf1f1/results[0]</from>
			<to>component</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Switch" disabled="false" id="3f85a6d7-81aa-4914-85e8-3f0f8d746eb0" query="component">
		<steps xsi:type="be.nabu.libs.services.vm.step.Throw" disabled="false" label="null" id="a88aad8e-f08c-4a7f-80a8-5231b83fe7ee" message="=&quot;Could not find component: &quot; + input/componentId" xsi:nil="true"/>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Switch" disabled="false" id="cc433d38-cd80-41bc-8931-18e276882e9b">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" label="component/parentId != null" id="719941c5-cc59-44e0-bced-ff7258504d7d">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="0cf8594f-b592-4fc3-9a92-289bff4c38ca" serviceId="nabu.web.cms.core.services.component.getComponent" resultName="result1a35fdb47f794bf09523ca621af52740" invocationOrder="0" temporaryMapping="true" x="157" y="57">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="0694342f-1f56-4d79-bb0f-5ba540b68e98" fixedValue="false" optional="false">
					<from>component/parentId</from>
					<to>componentId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="2c04d2b8-4b30-4393-8713-8cc6ba56d640" fixedValue="false" optional="false">
					<from>input/connection</from>
					<to>connection</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="716ec1da-a532-4dd7-bd7d-799d4779736f" fixedValue="false" optional="false">
				<from>result1a35fdb47f794bf09523ca621af52740/component</from>
				<to>output/component</to>
			</steps>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" comment="Initial Map" id="80dad899-a2fa-439f-a66e-7e49ca1d7e41">
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="9d67135c-2e14-4ebf-8d28-c73096f41b1f" fixedValue="false" optional="false">
			<from>component/name</from>
			<to>output/component/name</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="922680b6-1fd1-4e56-9d5f-cf0fba0b83e0" fixedValue="false" optional="false">
			<from>component/nodeEnricher</from>
			<to>output/component/nodeEnricher</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="c4595357-e105-4be9-a6aa-f09e1b60ae38" serviceId="nabu.web.cms.core.database.component.template.selectById" resultName="resultf37546e144fc44a6b128a8c26e18ffd6" invocationOrder="0" temporaryMapping="true" x="473" y="152">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="bcd35c1c-8715-4aa5-b4a9-1d2ebad357d3" fixedValue="false" optional="false">
				<from>component/componentTemplateId</from>
				<to>parameters/id</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="e2ef3f0b-a675-4ff5-8062-e3b329760c6c" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="9af0f4ee-e506-4b63-8abe-9966723570f2" fixedValue="false" optional="false">
			<from>resultf37546e144fc44a6b128a8c26e18ffd6/results[0]/name</from>
			<to>output/component/template</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="b1db5b9a-30ab-4de4-bc74-a4d59d7cf5fb" serviceId="nabu.web.cms.core.database.component.child.selectByParentId" resultName="result66a106c05dd74da19e887748a5eccc5f" invocationOrder="0" temporaryMapping="true" x="60" y="59">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="cb5f9ef2-1994-4c0d-bf95-5ddeea1fd603" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="84b98061-61de-4548-831e-0d9df1b0b672" fixedValue="false" optional="false">
				<from>input/componentId</from>
				<to>parameters/parentId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="6bff3eab-c471-4104-9788-7992699b42d7" serviceId="nabu.utils.List.addAll" resultName="result047add2a9eba40c589835a19fbccbf95" invocationOrder="1" temporaryMapping="true" x="585" y="59">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6f734571-54b5-4cc8-b8ba-dbe2771f4aed" fixedValue="false" optional="false">
				<from>output/component/children</from>
				<to>list</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="2a367807-5904-494d-a5d3-f294b5b0c813" fixedValue="false" optional="false">
				<from>result66a106c05dd74da19e887748a5eccc5f/results</from>
				<to>objects</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="8b14d185-3439-46e7-a5bb-315d2c054a5a" fixedValue="false" optional="false">
			<from>result047add2a9eba40c589835a19fbccbf95/list</from>
			<to>output/component/children</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="b4b58cef-ae32-4d91-bec7-3e1eb430f282" serviceId="nabu.web.cms.core.database.component.action.selectByTemplateId" resultName="resulta504e86ec6f14d16bf2d11b9e230e6bb" invocationOrder="0" temporaryMapping="true" x="440" y="321">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="1801ce2e-5058-4e11-8d88-e2e4e851fd81" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="fa606b93-217e-4e95-950e-e7ae965949b0" fixedValue="false" optional="false">
				<from>component/componentTemplateId</from>
				<to>parameters/templateId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="53807dd7-ff00-4650-b53d-c1bde9ab0d6a" fixedValue="false" optional="false">
			<from>resulta504e86ec6f14d16bf2d11b9e230e6bb/results</from>
			<to>actions</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="6d30f50f-7073-4785-94fa-f3a20df4934f" serviceId="nabu.web.cms.core.database.component.configuration.selectByComponentId" resultName="result8769aa5d07984d478c836bedf77c2bda" invocationOrder="0" temporaryMapping="true" x="88" y="471">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="9d832cad-2259-4605-9df4-427c17483b0e" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="e0ac4ae0-893b-49f2-9878-4b2b74fdd074" fixedValue="false" optional="false">
				<from>input/componentId</from>
				<to>parameters/componentId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="e3ff74f0-dc08-4e45-86aa-c2ac424f97f7" serviceId="nabu.utils.List.addAll" resultName="resultc89639509a4a4c9585225f883010535a" invocationOrder="1" temporaryMapping="true" x="741" y="477">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="42ea805c-d588-4706-bf08-5e37b6fde4c3" fixedValue="false" optional="false">
				<from>output/component/settings</from>
				<to>list</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="93704cfe-2616-44c5-a0cc-37fb9d715a38" fixedValue="false" optional="false">
				<from>result8769aa5d07984d478c836bedf77c2bda/results</from>
				<to>objects</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="3442c29e-9af7-4d97-b436-078a876d85bf" fixedValue="false" optional="false">
			<from>resultc89639509a4a4c9585225f883010535a/list</from>
			<to>output/component/settings</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="06fb0bbe-bd5d-4e4a-ae86-be8a08ba7d68" serviceId="nabu.web.cms.core.database.component.key.selectByComponentId" resultName="result502235fcc8b2443d86942f3bffaeae24" invocationOrder="0" temporaryMapping="true" x="103" y="633">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="1f20d47f-884c-4df7-b38e-58c5b671ffa0" fixedValue="false" optional="false">
				<from>input/componentId</from>
				<to>parameters/componentId</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="da6144d3-dd4e-4739-9f18-6e3c83d96bf9" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="18e21655-986e-434f-b609-931a24f6e203" serviceId="nabu.utils.List.addAll" resultName="result53b26c23c5f24585908c84ac7edb8c57" invocationOrder="1" temporaryMapping="true" x="728" y="639">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="2a2f327f-180a-4277-ae1b-3c530f7913ae" fixedValue="false" optional="false">
				<from>result502235fcc8b2443d86942f3bffaeae24/results</from>
				<to>objects</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="6ad6105b-1512-4a74-a87a-d467b25e41b8" fixedValue="false" optional="false">
				<from>output/component/extensions</from>
				<to>list</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="b49799af-6c49-4926-b206-e47c6ae18491" fixedValue="false" optional="false">
			<from>result53b26c23c5f24585908c84ac7edb8c57/list</from>
			<to>output/component/extensions</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="5a9d53d9-59a3-4004-a396-d12dcb64a7ee" serviceId="nabu.web.cms.core.database.component.tag.selectByComponentId" resultName="resultf6ff6ee4215344cc95b1e895431c0d35" invocationOrder="0" temporaryMapping="true" x="89" y="758">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="5a16589a-8458-4752-97f3-93b4b0aad943" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="bd750dbb-259f-4995-aa8c-6cfc848113eb" fixedValue="false" optional="false">
				<from>input/componentId</from>
				<to>parameters/componentId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="a460191e-56cf-4635-8546-1ea5259c9015" serviceId="nabu.utils.List.addAll" resultName="resultd32da29c71ea4ab894b180f236922899" invocationOrder="1" temporaryMapping="true" x="733" y="745">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="925312f8-1aa2-48e0-a5da-ea120f40e711" fixedValue="false" optional="false">
				<from>resultf6ff6ee4215344cc95b1e895431c0d35/results</from>
				<to>objects</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="7cecc3fb-25f3-4caa-872d-67d208454bc1" fixedValue="false" optional="false">
				<from>output/component/tags</from>
				<to>list</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="b601d3e5-5e3a-4da4-8dcd-c243883887c5" fixedValue="false" optional="false">
			<from>resultd32da29c71ea4ab894b180f236922899/list</from>
			<to>output/component/tags</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="ef0688dc-6f13-4f39-8a24-c30e668ba90e" serviceId="nabu.web.cms.core.database.component.attachment.selectByComponentId" resultName="result8dfb1d6e22ae44e6a9f46c3c4b2c1a95" invocationOrder="0" temporaryMapping="true" x="99" y="848">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="dc8ae7f4-c1ee-4bc8-b1c3-5e485baea184" fixedValue="false" optional="false">
				<from>input/componentId</from>
				<to>parameters/componentId</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="623faf56-8a41-4ed1-a302-81c7996b16da" fixedValue="false" optional="false">
				<from>input/connection</from>
				<to>connection</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="799f6669-da74-42eb-98fe-617a8265bc2e" fixedValue="false" optional="false">
			<from>result8dfb1d6e22ae44e6a9f46c3c4b2c1a95/results</from>
			<to>attachments</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.For" disabled="false" id="8492aded-7742-4f5d-8f06-96457d688d40" variable="action">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" id="acfc196e-7894-419c-9e6b-13b0625503cb">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="6c427e44-8b07-4c01-b558-07ef3370bb03" serviceId="nabu.web.cms.core.database.component.action.role.selectByActionId" resultName="result1b8a8973adfd429e8c9d52b0eaa9ee96" invocationOrder="0" temporaryMapping="true" x="101" y="26">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="203a7ffc-4dfd-402c-9ad0-8253f14cf9cd" fixedValue="false" optional="false">
					<from>action/id</from>
					<to>parameters/actionId</to>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="354e2d2d-339b-4725-bdda-914c2d155130" fixedValue="false" optional="false">
					<from>input/connection</from>
					<to>connection</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="d32834b8-4084-4690-a23a-835c1cd65a0b" fixedValue="false" optional="false">
				<from>result1b8a8973adfd429e8c9d52b0eaa9ee96/results</from>
				<to>action/roles</to>
			</steps>
		</steps>
		<query>actions</query>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" comment="Map actions" id="1d58bf3f-fa0b-4a1d-bab7-7818926638a2">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="1fbe9f35-bd22-4fd3-994a-f71c1a4963ce" serviceId="nabu.utils.List.addAll" resultName="result5842b7cbac6d44b189df4e315665b728" invocationOrder="0" temporaryMapping="true" x="527" y="80">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="67b3c72b-25a7-42e3-8edf-c2c2bcaaaa2d" fixedValue="false" optional="false">
				<from>output/component/actions</from>
				<to>list</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="302405f8-0790-498b-ad5d-e4e882d3c8ab" fixedValue="false" optional="false">
				<from>actions</from>
				<to>objects</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="2ba82638-f21e-4f7b-825e-a0df44dce9aa" fixedValue="false" optional="false">
			<from>result5842b7cbac6d44b189df4e315665b728/list</from>
			<to>output/component/actions</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.For" disabled="false" id="58a20fca-bf71-47f4-9778-39464a787fa5" variable="attachment">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" id="970f0480-c651-495c-9ea2-bf089ab19aaa">
			<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="d4eda0b4-1307-4524-9258-a2cf86756603" serviceId="nabu.web.cms.core.database.component.attachment.thumbnail.selectByAttachmentId" resultName="result66d5729744354b5ea549594f43746479" invocationOrder="0" temporaryMapping="true" x="144" y="215">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="852bf123-3619-4c43-b654-ffb2347e9f80" fixedValue="false" optional="false">
					<from>attachment/id</from>
					<to>parameters/componentAttachmentId</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="2227eb11-ca7b-433f-aa51-16b8ceaae773" fixedValue="false" optional="false">
				<from>result66d5729744354b5ea549594f43746479/results</from>
				<to>attachment/thumbnails</to>
			</steps>
		</steps>
		<query>attachments</query>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map" disabled="false" comment="Map attachments" id="332baa43-012b-4b20-8726-37348d6c2197">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke" disabled="false" id="a972106d-8523-43e1-9b32-0388e8a705d7" serviceId="nabu.utils.List.addAll" resultName="result615f1e81cc37448a8d4ab15af967c603" invocationOrder="0" temporaryMapping="true" x="176" y="133">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="474fda6c-05fe-4036-b3d8-3c36d3d2e19f" fixedValue="false" optional="false">
				<from>output/component/attachments</from>
				<to>list</to>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="e390bdcb-c390-4616-803d-34ec1209ef45" fixedValue="false" optional="false">
				<from>attachments</from>
				<to>objects</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link" disabled="false" id="4a2dc992-7115-4fad-a563-a00b20269698" fixedValue="false" optional="false">
			<from>result615f1e81cc37448a8d4ab15af967c603/list</from>
			<to>output/component/attachments</to>
		</steps>
	</steps>
</sequence>